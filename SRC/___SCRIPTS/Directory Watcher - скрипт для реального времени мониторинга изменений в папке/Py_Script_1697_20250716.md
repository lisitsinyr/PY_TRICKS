Link: https://t.me/Py_Script/1697

–î–∞—Ç–∞: 2025-07-16 17:32:58+00:00

Title: Python_Scripts

‚úÖ **Directory Watcher** ‚Äî —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø–∞–ø–∫–µ. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ
—Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è: –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–±–æ—Ä–∫—É, –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã, –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å
—Å–æ–±—ã—Ç–∏—è –∏ —Ç.–¥. –†–∞–±–æ—Ç–∞–µ—Ç –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ
(Linux/macOS/Windows).

üì± **Python 3.8+**
üíæ **–ú–æ–¥—É–ª–∏:** `watchdog`, `argparse`, `time` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è
–±–∏–±–ª–∏–æ—Ç–µ–∫–∞)

üìå **Directory Watcher:**
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç —Å–æ–∑–¥–∞–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
—Ñ–∞–π–ª–æ–≤
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –≤–∫–ª—é—á–∏—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏
(--recursive)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é —Ñ–∞–π–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä,
—Ç–æ–ª—å–∫–æ .py)
- –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ watchdog, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
platform-specific –º–µ—Ö–∞–Ω–∏–∑–º—ã (inotify, Windows API)

üßë‚Äçüíª **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (CLI):**
```python dir_watcher.py --path ./my_folder --recursive
--ext .txt,.log```

üë®‚Äçüíª **–ö–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞:**
```import time, argparse
from watchdog.observers import Observer
from watchdog.events import FileSystemEventHandler

class Handler(FileSystemEventHandler):
    def __init__(self, exts):
        self.exts = tuple(exts)

    def dispatch(self, event):
        if event.is_directory: return
        if self.exts and not
event.src_path.endswith(self.exts): return
        super().dispatch(event)

    def on_created(self, event):
        print(f"üü¢ Created: {event.src_path}")

    def on_modified(self, event):
        print(f"üü° Modified: {event.src_path}")

    def on_deleted(self, event):
        print(f"üî¥ Deleted: {event.src_path}")

    def on_moved(self, event):
        print(f"üîÅ Moved: {event.src_path} ‚Üí
{event.dest_path}")

def main():
    parser = argparse.ArgumentParser(description="Directory
Watcher")
    parser.add_argument("--path", required=True, help="–ü–∞–ø–∫–∞
–¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞")
    parser.add_argument("--recursive", action="store_true",
help="–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏")
    parser.add_argument("--ext", default="", help="–§–∏–ª—å—Ç—Ä –ø–æ
—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)")
    args = parser.parse_args()

    exts = [e.strip() for e in args.ext.split(",") if
e.strip()]
    handler = Handler(exts)
    observer = Observer()
    observer.schedule(handler, args.path,
recursive=args.recursive)
    observer.start()
    print(f"üöÄ Monitoring '{args.path}'
(recursive={args.recursive}, exts={exts})")

    try:
        while True:
            time.sleep(1)
    except KeyboardInterrupt:
        observer.stop()
    observer.join()

if __name__ == "__main__":
    main()```

üìå **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```pip install watchdog```

üìå **–ì–¥–µ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏/—Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö –ª–æ–≥–æ–≤/–¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á DevOps, CI/CD, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö
—Å–∞–π—Ç–æ–≤ –∏ —Ç.–ø.

#—Å–∫—Ä–∏–ø—Ç—ã

üñ• [Python_Scripts](https://t.me/Py_Script)

