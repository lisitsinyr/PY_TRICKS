Link: https://t.me/python2day/6849

–î–∞—Ç–∞: 2025-07-11 04:26:57+00:00

Title: [PYTHON:TODAY]

üñ•  **–ú–æ–Ω–∏—Ç–æ—Ä–∏–º —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É CPU –Ω–∞ Python**

–ü—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∂–µ—Ç, –∫–∞–∫ —á—É–≤—Å—Ç–≤—É–µ—Ç —Å–µ–±—è —Ç–≤–æ–π
–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä ‚Äî –ø—Ä—è–º–æ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Linux/Windows/Mac
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç AMD (k10temp), Intel (coretemp), –¥—Ä—É–≥–∏–µ
‚úÖ –ë–µ–∑ –ª–∏—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ ‚Äî —Ç–æ–ª—å–∫–æ psutil –∏ lm-sensors

üì¶ **–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```$ sudo apt install lm-sensors # –¥–ª—è Nix —Å–∏—Å—Ç–µ–º
$ pip install psutil```

**üíª**** –°–∫—Ä–∏–ø—Ç:**

```import psutil
from typing import Optional

def get_cpu_temperature() -> Optional[str]:
    """
    –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
–¥–∞—Ç—á–∏–∫–æ–≤.

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        –°—Ç—Ä–æ–∫—É —Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π CPU –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –¶–µ–ª—å—Å–∏—è –∏–ª–∏
—Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.
    """
    temps = psutil.sensors_temperatures()

    if not temps:
        return "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã."

    # –î–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ AMD, —á–∞—â–µ –≤—Å–µ–≥–æ –¥–∞–Ω–Ω—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤
"k10temp"
    if "k10temp" in temps:
        for entry in temps["k10temp"]:
            if entry.label in ("Tctl", "Tdie"):
                return f"–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ CPU:
{entry.current:.1f}¬∞C"
        return "–°–µ–Ω—Å–æ—Ä 'k10temp' –Ω–∞–π–¥–µ–Ω, –Ω–æ –º–µ—Ç–∫–∞ Tctl
–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç."

    # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –æ–±—Ö–æ–¥ –≤—Å–µ—Ö –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ (–Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏
—Å–µ–Ω—Å–æ—Ä—ã –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –∏–Ω–∞—á–µ)
    for name, entries in temps.items():
        for entry in entries:
            if entry.label.lower().startswith("package") or
"core" in entry.label.lower():
                return f"–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ CPU:
{entry.current:.1f}¬∞C"

    return "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É CPU."

def main() -> None:
    """–ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ —Å–∫—Ä–∏–ø—Ç."""
    print(get_cpu_temperature())

if __name__ == "__main__":
    main()```

üëç –ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ Telegram-–±–æ—Ç—É –∏–ª–∏ –ª–æ–≥–≥–∏—Ä–æ–≤–∞—Ç—å –≤ —Ñ–∞–π–ª.

#python #code

