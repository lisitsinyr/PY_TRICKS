Link: https://t.me/Py_Script/1712

–î–∞—Ç–∞: 2025-07-22 08:03:01+00:00

Title: Python_Scripts

‚úÖ **Website Uptime Monitor** ‚Äî –ª—ë–≥–∫–∏–π CLI-—Å–∫—Ä–∏–ø—Ç –¥–ª—è
–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–∞–π—Ç–æ–≤.
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç HTTP-–∫–æ–¥—ã, –∏–∑–º–µ—Ä—è–µ—Ç –∑–∞–¥–µ—Ä–∂–∫—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç
—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Telegram) –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤.

üì± **Python 3.8+**
üíæ **–ú–æ–¥—É–ª–∏:** `requests`, `time`, `argparse`, `datetime`,
`os`

üìå **Website Uptime Monitor:**
–î–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–µ URL —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
–õ–æ–≥–∏—Ä—É–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –∏ HTTP-—Å—Ç–∞—Ç—É—Å—ã
–ü—Ä–∏ –Ω–µ–æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä,
–≤ Telegram)
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ API, —Å–∞–π—Ç–æ–≤ –∏ –≤–µ–±-
—Å–µ—Ä–≤–∏—Å–æ–≤

üßë‚Äçüíª **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (CLI):**
```python uptime_monitor.py --urls https://example.com,https://api.example.com \
    --interval 60 --retries 3 --notify-telegram```

üë®‚Äçüíª **–ö–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞:**
```import requests, time, argparse, datetime, os

def alert_telegram(bot_token, chat_id, msg):
    url = f"https://api.telegram.org/bot{bot_token}/sendMessage"
    requests.post(url, data={"chat_id": chat_id, "text":
msg})

def monitor(urls, interval, retries, bot_token=None,
chat_id=None):
    status = {u: True for u in urls}
    while True:
        for u in urls:
            try:
                r = requests.get(u, timeout=10)
                ok = r.status_code == 200
                resp = f"{r.status_code},
{r.elapsed.total_seconds():.2f}s"
            except Exception as e:
                ok = False
                resp = f"Error: {e}"
            now = datetime.datetime.now().strftime("%Y-%m-%d
%H:%M:%S")
            print(f"[{now}] {u} ‚Üí {resp}")
            if not ok and status[u]:
                status[u] = False
                msg = f"‚ö†Ô∏è {u} is DOWN at {now}"
                if bot_token and chat_id:
                    alert_telegram(bot_token, chat_id, msg)
            if ok and not status[u]:
                status[u] = True
                msg = f"‚úÖ {u} is UP again at {now}"
                if bot_token and chat_id:
                    alert_telegram(bot_token, chat_id, msg)
        time.sleep(interval)

if __name__ == "__main__":
    p = argparse.ArgumentParser()
    p.add_argument("--urls", required=True, help="Comma-
separated URLs")
    p.add_argument("--interval", type=int, default=60)
    p.add_argument("--retries", type=int, default=3)
    p.add_argument("--bot-token",
default=os.getenv("TELEGRAM_TOKEN"))
    p.add_argument("--chat-id",
default=os.getenv("TELEGRAM_CHAT_ID"))
    args = p.parse_args()
    urls = [u.strip() for u in args.urls.split(',')]
    monitor(urls, args.interval, args.retries,
args.bot_token, args.chat_id)```

‚öôÔ∏è **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```pip install requests```

#—Å–∫—Ä–∏–ø—Ç—ã

üñ• [Python_Scripts](https://t.me/Py_Script)

