#------------------------------------------
# Descriptors_2898 ():
#------------------------------------------
def Descriptors_2898 ():
    """Descriptors_"""
#beginfunction
    print ('#-----------------------------')
    print ('#', Descriptors_2898.__name__)
    print ('#-----------------------------')

    # https://t.me/seniorpy/2760
    # ‚öôÔ∏è –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤ —Å –ø–æ–º–æ—â—å—é –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤
    #
    # ‚û°Ô∏è –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –≤ Python –ø–æ–∑–≤–æ–ª—è—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø–æ–º –∫
    # –∞—Ç—Ä–∏–±—É—Ç–∞–º –æ–±—ä–µ–∫—Ç–∞.
    #
    # üó£Ô∏è –° –∏—Ö –ø–æ–º–æ—â—å—é –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–µ–Ω–∏–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
    # —Å–≤–æ–π—Å—Ç–≤, —á—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π,
    # –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫
    # —Å–≤–æ–π—Å—Ç–≤—É
    class LazyProperty:
        def __init__ (self, func):
            self.func = func
            self.name = func.__name__

        def __get__(self, obj, cls):
            if obj is None:
                return self
            value = self.func (obj)
            setattr (obj, self.name, value)
            return value

    # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    class DataLoader:
        def __init__ (self, data_source):
            self.data_source = data_source
        @LazyProperty
        def data (self):
            print ("–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...")
            # –ò–º–∏—Ç–∞—Ü–∏—è –¥–æ–ª–≥–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
            return [x for x in range (1, 1001)]

    # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    loader = DataLoader ("some_source")
    print ("–î–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Å–≤–æ–π—Å—Ç–≤—É data")
    print (loader.data)  # –í—ã–≤–æ–¥–∏—Ç: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö... [1, 2, 3, ..., 1000]
    print ("–ü–æ—Å–ª–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Å–≤–æ–π—Å—Ç–≤—É data")
    print (loader.data)  # –í—ã–≤–æ–¥–∏—Ç: [1, 2, 3, ..., 1000] –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏




    # https://t.me/Python_per_month/2898
    # ‚û°Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º –∫
    # –∞—Ç—Ä–∏–±—É—Ç–∞–º
    #
    # –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π, –Ω–æ —á–∞—Å—Ç–æ –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –≤
    # Python, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø–æ–º –∫ –∞—Ç—Ä–∏–±—É—Ç–∞–º
    # –æ–±—ä–µ–∫—Ç–æ–≤. –° –ø–æ–º–æ—â—å—é –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É
    # –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏, –∑–∞–ø–∏—Å–∏ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∫–ª–∞—Å—Å–∞.
    #
    # ‚Ä¢ –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø–æ–º –∫
    # –¥—Ä—É–≥–æ–º—É –æ–±—ä–µ–∫—Ç—É. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–µ—Ç–æ–¥—ã __get__,
    # __set__ –∏ __delete__.
    #
    # ‚Ä¢ –í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä PositiveNumber –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç
    # –∑–∞–ø–∏—Å—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∞—Ç—Ä–∏–±—É—Ç. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ,
    # –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É
    # –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤.
    #
    # ‚Ä¢ –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –¥–æ—Å—Ç—É–ø–∞ –≤
    # –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö
    # –º–µ—Å—Ç–∞—Ö, —É–ª—É—á—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞.
    class PositiveNumber:
        def __init__ (self, initial_value=0):
            self.value = initial_value
        def __get__ (self, instance, owner):
            return self.value
        def __set__ (self, instance, value):
            if value < 0:
                raise ValueError ("Value must be positive")
            self.value = value

    class MyClass:
        number = PositiveNumber ()

    obj = MyClass ()
    obj.number = 10
    print (obj.number)  # –í—ã–≤–æ–¥: 10
    obj.number = -5     # –í—ã–≤–æ–¥ Valuefrror: Value must be positive






#endfunction

#------------------------------------------
#
#------------------------------------------
#beginmodule
if __name__ == "__main__":
    Descriptors_2898 ()
#endif

#endmodule
