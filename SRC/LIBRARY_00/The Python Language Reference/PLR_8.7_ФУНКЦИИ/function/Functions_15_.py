#------------------------------------------
# Functions_15_ ():
#------------------------------------------
def Functions_15_ ():
    """Functions_15_"""
#beginfunction
    print ('#-----------------------------')
    print ('#', Functions_15_.__name__)
    print ('#-----------------------------')

    # https://t.me/python_easy_ru/908
    # ü§î –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ
    # –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –æ–ø–µ—Ä–∞—Ü–∏–π –≤–Ω—É—Ç—Ä–∏ –Ω–µ—ë?
    #
    # –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ (mocking) –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–ª–∏
    # —Å—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (stubbing), —á—Ç–æ–±—ã –∑–∞–º–µ–Ω–∏—Ç—å –¥–æ–ª–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞
    # –±—ã—Å—Ç—Ä—ã–µ —Ñ–∏–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å
    # –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–¥–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å
    # –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–ª–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è
    # —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤.
    #
    # üö©–ü–æ–¥—Ö–æ–¥—ã –∫ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤
    #
    # üü†–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    # –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏
    # –≤—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –º–æ–∂–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç—Ç–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π,
    # —á—Ç–æ–±—ã –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∏—Ö –ø–æ–≤—Ç–æ—Ä–Ω–æ.
    # üü†–ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ (mocking) –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –æ–ø–µ—Ä–∞—Ü–∏–π
    # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ mock-–æ–±—ä–µ–∫—Ç—ã –¥–ª—è –∑–∞–º–µ–Ω—ã –¥–æ—Ä–æ–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
    # —Ñ–∏–∫—Ç–∏–≤–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ
    # —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.
    # üü†–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä (fixtures)
    # –§–∏–∫—Å—Ç—É—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–¥–∏–Ω —Ä–∞–∑
    # –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Ç–µ—Å—Ç–æ–≤ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤ —Ä–∞–∑–Ω—ã—Ö
    # —Ç–µ—Å—Ç–∞—Ö.
    # üü†–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
    # –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –º–æ–∂–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å
    # –æ–±—â–µ–µ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è,
    # –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–æ—Ä–æ–≥—É—é –æ–ø–µ—Ä–∞—Ü–∏—é:
    #
    # import time
    #
    # def expensive_operation(data):
    #     time.sleep(5)  # –ò–º–∏—Ç–∞—Ü–∏—è –¥–æ–ª–≥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
    #     return sum(data)
    #
    # def process_data(data):
    #     result = []
    #     for item in data:
    #         result.append(expensive_operation(item))
    #     return result
    #
    # üö©–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
    #
    # üü†–ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è
    # –ú—ã –º–æ–∂–µ–º –∑–∞–º–æ–∫–∏—Ä–æ–≤–∞—Ç—å expensive_operation, —á—Ç–æ–±—ã –æ–Ω–∞
    # –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    # –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
    # from unittest.mock import patch
    #
    # def test_process_data():
    #     data = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
    #
    #     with patch('__main__.expensive_operation') as
    # mock_expensive:
    #         mock_expensive.side_effect = [6, 15, 24]  # –ó–∞—Ä–∞–Ω–µ–µ
    # –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    #
    #         result = process_data(data)
    #
    #         assert result == [6, 15, 24]
    #         assert mock_expensive.call_count == 3  # –ü—Ä–æ–≤–µ—Ä–∫–∞,
    # —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑–≤–∞–Ω–∞ 3 —Ä–∞–∑–∞
    #
    # üü†–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
    #
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    # –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
    # from functools import lru_cache
    #
    # @lru_cache(maxsize=None)
    # def expensive_operation(data):
    #     time.sleep(5)  # –ò–º–∏—Ç–∞—Ü–∏—è –¥–æ–ª–≥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
    #     return sum(data)
    #
    # def process_data(data):
    #     result = []
    #     for item in data:
    #         result.append(expensive_operation(tuple(item)))  #
    # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Å–ø–∏—Å–æ–∫ –≤ –∫–æ—Ä—Ç–µ–∂ –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
    #     return result
    #
    # üö©–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä –≤ pytest
    #
    # –§–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
    # –°–æ–∑–¥–∞–µ–º —Ñ–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
    # –≤ —Ç–µ—Å—Ç–∞—Ö.
    # import pytest
    #
    # @pytest.fixture
    # def sample_data():
    #     return [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
    #
    # def test_process_data(sample_data):
    #     with patch('__main__.expensive_operation') as
    # mock_expensive:
    #         mock_expensive.side_effect = [6, 15, 24]  # –ó–∞—Ä–∞–Ω–µ–µ
    # –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    #
    #         result = process_data(sample_data)
    #
    #         assert result == [6, 15, 24]
    #
    # üö©–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
    #
    # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
    # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤,
    # –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é pytest-xdist.
    # pytest -n 4  # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ 4 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö


#endfunction

#------------------------------------------
#
#------------------------------------------
#beginmodule
if __name__ == "__main__":
    Functions_15_ ()
#endif

#endmodule
