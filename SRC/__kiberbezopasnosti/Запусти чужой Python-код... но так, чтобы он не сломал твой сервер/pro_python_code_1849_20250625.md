Link: https://t.me/pro_python_code/1849

–î–∞—Ç–∞: 2025-06-25 08:34:28+00:00

Title: Python RU

üß† –°–ª–æ–∂–Ω–∞—è –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –∑–∞–¥–∞—á–∞ –¥–ª—è Python-–∏–Ω–∂–µ–Ω–µ—Ä–æ–≤:
**"–ó–∞–ø—É—Å—Ç–∏ —á—É–∂–æ–π Python-–∫–æ–¥... –Ω–æ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –Ω–µ —Å–ª–æ–º–∞–ª
—Ç–≤–æ–π —Å–µ—Ä–≤–µ—Ä"**

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —Ç—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
–º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ Python-—Å–∫—Ä–∏–ø—Ç—ã:
–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ñ–æ—Ä–º–∞—Ç–µ –æ–Ω–ª–∞–π–Ω-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞, –ø–µ—Å–æ—á–Ω–∏—Ü—ã –¥–ª—è
—Ç–µ—Å—Ç–æ–≤, –∏–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤.

üìå –£—Å–ª–æ–≤–∏—è –∑–∞–¥–∞—á–∏:
–¢—ã –¥–æ–ª–∂–µ–Ω –Ω–∞–ø–∏—Å–∞—Ç—å —Å–∏—Å—Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è:
‚Ä¢ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π Python-–∫–æ–¥ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚Ä¢ –í—ã–ø–æ–ª–Ω—è–µ—Ç –µ–≥–æ **–±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ**
‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ 2 —Å–µ–∫—É–Ω–¥
‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –ø–∞–º—è—Ç—å –¥–æ 128 MB
‚Ä¢ –ë–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ, —Å–µ—Ç–∏, subprocess,
fork
‚Ä¢ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `stdout`, `stderr` –∏ —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî –∫–ª—é—á:
‚Ä¢ –°–∫—Ä–∏–ø—Ç –º–æ–∂–µ—Ç –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è —Å–¥–µ–ª–∞—Ç—å `os.remove('/')`, `import
socket`, `while True:` –∏ —Ç.–ø.
‚Ä¢ –í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø–æ—Å—Ç—Ä–∞–¥–∞—Ç—å. –î–∞–∂–µ –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø–æ—à–ª—ë—Ç
fork-–±–æ–º–±—É –∏–ª–∏ –∑–∞–ø—Ä–æ—Å–∏—Ç –≤–µ—Å—å RAM.

üì¶ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
‚Ä¢ –†–µ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞ Python
‚Ä¢ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker, podman, –∏–ª–∏ Firecracker ‚Äî –Ω–æ
–æ–±–æ—Å–Ω—É–π –≤—ã–±–æ—Ä
‚Ä¢ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞, –Ω–æ –¥–æ—Å—Ç—É–ø –∫ `os`,
`sys.modules`, `inspect`, `eval`, `__import__` ‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å
–æ—Ç–∫–ª—é—á—ë–Ω –∏–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω
‚Ä¢ –ù–∏–∫–∞–∫–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤, —Ñ–∞–π–ª–æ–≤—ã—Ö —Å–æ–∫–µ—Ç–æ–≤ –∏–ª–∏ pip
install

üîß –ß—Ç–æ –æ–∂–∏–¥–∞–µ—Ç—Å—è:

1. **–§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞:**
```
result = run_code_safely(code="print(2 + 2)")
# result = { "stdout": "4\n", "stderr": "", "exit_code": 0,
"status": "ok" }
```
–ò–∑–æ–ª—è—Ü–∏—è —Å—Ä–µ–¥—ã:
‚Ä¢ –í–∞—Ä–∏–∞–Ω—Ç 1: —á–µ—Ä–µ–∑ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ (docker
run --rm --net=none --memory=128m)
‚Ä¢ –í–∞—Ä–∏–∞–Ω—Ç 2: —á–µ—Ä–µ–∑ Firejail / chroot / seccomp / AppArmor
–ø—Ä–æ—Ñ–∏–ª–∏
‚Ä¢ –í–∞—Ä–∏–∞–Ω—Ç 3: —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Python –≤–Ω—É—Ç—Ä–∏ subprocess —Å
–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ resource, signal, ast –∏
multiprocessing.Process

–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–π:
‚Ä¢ –ó–∞–ø—Ä–µ—Ç–∏—Ç—å import os, import subprocess, __import__, eval,
exec, open, globals()
‚Ä¢ –ü—Ä–∏–º–µ—Ä: AST-–ø–∞—Ä—Å–µ—Ä —É–¥–∞–ª—è–µ—Ç –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –Ω–æ–¥—ã –¥–æ –∑–∞–ø—É—Å–∫–∞

–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π:
‚Ä¢ TimeoutExceededError ‚Äî –µ—Å–ª–∏ –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç > 2 —Å–µ–∫
‚Ä¢ MemoryLimitError ‚Äî –µ—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–≤—ã—Å–∏–ª –ª–∏–º–∏—Ç
‚Ä¢ SecurityViolation ‚Äî –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ –∏–ª–∏
–¥–æ—Å—Ç—É–ø–∞

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ ‚Äî FastAPI API:

```
POST /run
{
  "code": "for i in range(10): print(i)"
}```
‚Üí –û—Ç–≤–µ—Ç:

```
{
  "stdout": "0\n1\n2\n...\n",
  "stderr": "",
  "status": "ok",
  "time": 0.032
}```

**üéØ –¶–µ–ª—å:**
–°–æ–±—Ä–∞—Ç—å —Å–∏—Å—Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã–π –∫–æ–¥
–æ—Ç –Ω–µ–∑–Ω–∞–∫–æ–º—Ü–µ–≤ ‚Äî –∏ –Ω–µ –ø–∞–¥–∞–µ—Ç, –Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç, –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç
–¥–æ—Å—Ç—É–ø –∫ —Ö–æ—Å—Ç—É.

**ü§Ø Challenge:**
‚Ä¢ –ö–∞–∫ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É from os import system?
‚Ä¢ –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å __import__('os').system('ls')?
‚Ä¢ –ö–∞–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–∫—É –ø—Ä–∏ while True: pass?
‚Ä¢ –ö–∞–∫ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ Python?

‚úÖ –ï—Å–ª–∏ —Ä–µ—à–∏—à—å ‚Äî —Ç—ã —Ä–∞–∑–±–µ—Ä—ë—à—å—Å—è —Å:
‚Ä¢ AST-–ø–∞—Ä—Å–∏–Ω–≥–æ–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è Python
‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–∞–º–∏ (CPU, RAM, –≤—Ä–µ–º—è) –Ω–∞ —É—Ä–æ–≤–Ω–µ –û–°
‚Ä¢ –ò–∑–æ–ª—è—Ü–∏–µ–π —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ sandbox-–æ–∫—Ä—É–∂–µ–Ω–∏—è
‚Ä¢ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö API –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–≤

